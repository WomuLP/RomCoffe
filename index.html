<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Cafetería • Menú</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header class="site-header">
      <img class="banner" src="https://images.unsplash.com/photo-1461988625982-7e46a099bf4f?w=1600&q=80&auto=format&fit=crop" alt="Banner cafetería" />
      <div class="header-overlay">
        <h1 class="brand">Tu Café Favorito</h1>
        <p class="tag">Buenos momentos, mejor café</p>
      </div>
    </header>

    <nav class="category-menu">
      <button class="chip active" data-category="all">todos</button>
      <button class="chip" data-category="cafe">café</button>
      <button class="chip" data-category="tes">tés</button>
      <button class="chip" data-category="bebidas-frias">bebidas frías</button>
      <button class="chip" data-category="desayuno">desayuno</button>
      <button class="chip" data-category="almuerzo">almuerzo</button>
      <button class="chip" data-category="postres">postres</button>
    </nav>

    <main>
      <section class="products" id="productos">
        <h2 class="section-title">Productos</h2>
        <div class="product-grid" id="productGrid">
          <!-- Los productos se generarán dinámicamente con JavaScript -->
        </div>
      </section>

      <section class="carousel-section" aria-label="Destacados">
        <h2 class="section-title">Destacados</h2>
        <div class="carousel-container">
          <div class="carousel-3d">
            <div class="carousel-face">Café Premium</div>
            <div class="carousel-face">Tés Especiales</div>
            <div class="carousel-face">Bebidas Frías</div>
            <div class="carousel-face">Desayunos</div>
            <div class="carousel-face">Almuerzos</div>
            <div class="carousel-face">Postres</div>
            <div class="carousel-face">Snacks</div>
            <div class="carousel-face">Especialidades</div>
            <div class="carousel-face">Novedades</div>
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="footer-inner">
        <div class="footer-col">
          <h3 class="footer-brand">Colorlib</h3>
          <p>Hecho con amor para servir excelente café y buena vibra.</p>
        </div>
        <nav class="footer-col">
          <h4>Info</h4>
          <ul class="footer-links">
            <li><a href="#">Home</a></li>
            <li><a href="#">About Us</a></li>
            <li><a href="#">Portfolio</a></li>
            <li><a href="#">Contact</a></li>
          </ul>
        </nav>
        <nav class="footer-col">
          <h4>Legal</h4>
          <ul class="footer-links">
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Terms &amp; Conditions</a></li>
          </ul>
        </nav>
        <div class="footer-col align-end">
          <a class="btn contact" href="#">Contactar</a>
        </div>
      </div>
      <div class="footer-bottom">© <span id="currentYear"></span> Cafetería. Todos los derechos reservados.</div>
    </footer>

    <script>
      // Datos de productos (convertidos desde PHP)
      const products = [
        {
          image: 'https://images.unsplash.com/photo-1504754524776-8f4f37790ca0?w=1200&q=80&auto=format&fit=crop',
          name: 'Café Latte',
          price: 3.9,
          description: 'Espresso suave con leche vaporizada y una capa de espuma.',
          ingredients: ['Espresso', 'Leche', 'Espuma de leche'],
          category: 'cafe'
        },
        {
          image: 'https://images.unsplash.com/photo-1498804103079-a6351b050096?w=1200&q=80&auto=format&fit=crop',
          name: 'Cold Brew',
          price: 4.5,
          description: 'Café infusionado en frío durante 16 horas. Refrescante y suave.',
          ingredients: ['Café molido', 'Agua filtrada', 'Hielo'],
          category: 'bebidas-frias'
        },
        {
          image: 'https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?w=1200&q=80&auto=format&fit=crop',
          name: 'Sandwich Club',
          price: 6.9,
          description: 'Pan tostado con pollo, tocino, vegetales y salsa especial.',
          ingredients: ['Pan', 'Pollo', 'Tocino', 'Lechuga', 'Tomate', 'Salsa'],
          category: 'almuerzo'
        },
        {
          image: 'https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=1200&q=80&auto=format&fit=crop',
          name: 'Ensalada César',
          price: 5.5,
          description: 'Clásica ensalada con aderezo césar y crutones.',
          ingredients: ['Lechuga', 'Pollo', 'Parmesano', 'Crutones', 'Aderezo césar'],
          category: 'almuerzo'
        }
      ];

      // Función para generar las tarjetas de productos
      function generateProductCards(productsToShow = products) {
        const productGrid = document.getElementById('productGrid');
        productGrid.innerHTML = '';

        productsToShow.forEach(product => {
          const productCard = document.createElement('article');
          productCard.className = 'card';
          productCard.innerHTML = `
            <div class="card-media">
              <img src="${product.image}" alt="${product.name}" />
            </div>
            <div class="card-body">
              <div class="card-head">
                <h3 class="card-title">${product.name}</h3>
                <span class="price">$${product.price.toFixed(2)}</span>
              </div>
              <p class="card-desc">${product.description}</p>
              <ul class="ingredients">
                ${product.ingredients.map(ingredient => `<li>${ingredient}</li>`).join('')}
              </ul>
              <button class="btn primary" onclick="addToCart('${product.name}', ${product.price})">Agregar</button>
            </div>
          `;
          productGrid.appendChild(productCard);
        });
      }

      // Función para filtrar productos por categoría
      function filterProducts(category) {
        if (category === 'all') {
          generateProductCards();
        } else {
          const filteredProducts = products.filter(product => product.category === category);
          generateProductCards(filteredProducts);
        }
      }

      // Función para agregar al carrito (simulada)
      function addToCart(productName, price) {
        alert(`¡${productName} agregado al carrito! Precio: $${price.toFixed(2)}`);
        // Aquí podrías implementar la lógica real del carrito
      }

      // El carrusel 3D es completamente CSS, no necesita JavaScript

      // Función para manejar los filtros de categoría
      function initCategoryFilters() {
        const categoryButtons = document.querySelectorAll('.category-menu .chip');
        
        categoryButtons.forEach(button => {
          button.addEventListener('click', function() {
            // Remover clase active de todos los botones
            categoryButtons.forEach(btn => btn.classList.remove('active'));
            // Agregar clase active al botón clickeado
            this.classList.add('active');
            
            // Filtrar productos
            const category = this.getAttribute('data-category');
            filterProducts(category);
          });
        });
      }

      // Función para actualizar el año en el footer
      function updateFooterYear() {
        const currentYear = new Date().getFullYear();
        document.getElementById('currentYear').textContent = currentYear;
      }

      // Inicialización cuando el DOM esté listo
      document.addEventListener('DOMContentLoaded', function() {
        generateProductCards();
        initCategoryFilters();
        updateFooterYear();
      });
    </script>
  </body>
</html>
